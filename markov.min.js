/* @ Src TheGreatRambler https://github.com/TheGreatRambler/markov.js */
(function(c,b){"function"===typeof define&&define.amd?define([],b):"object"===typeof module&&module.exports?module.exports=b():c.Markov=b()})("undefined"!==typeof self?self:this,function(){var c=function(b){this.data=b;this.createCorpus()};c.prototype.createCorpus=function(){var b={};this.data.regularity=this.data.regularity||1;if("[object String]"===Object.prototype.toString.call(this.data.input))var e=this.data.input.split("undefined"!==typeof this.data.delimiter?this.data.delimiter:" ");else{var a=
this.data.input;Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length&&(0===a.length||0<a.length&&a.length-1 in a)?"[object String]"===Object.prototype.toString.call(this.data.input[0])?e=this.data.input:console.warn("Data elements must be strings!"):console.warn("Data must be an array or string!")}musiclength=e.length;for(a=this.data.regularity;a<musiclength;a++){var d=e[a];if(d){for(var f=[],c=0;c<this.data.regularity;c++)f.push(e[a-this.data.regularity+c]);"undefined"===typeof b[f.join(" ")]?
b[f.join(" ")]=[d]:b[f.join(" ")].push(d)}}this.musicarray=e;this.corpus=b};c.prototype.generate=function(b){var e=Object.keys(this.corpus);e=e[~~(e.length*Math.random())].split(" ");b=b||1E3;for(var a=0;a<b;a++){for(var d=[],c=0;c<this.data.regularity;c++)d.push(e[a+c]);d=this.corpus[d.join(" ")];if(!d)break;e.push(d[~~(d.length*Math.random())]);d[~~(d.length*Math.random())]||console.log(d)}return e.join(" ")};return c});
